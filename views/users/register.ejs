<% include('../layouts/header.ejs') %>


<div class="container">
    <h1>User Registration Form</h1>

    <form id="loginform" action="/register" method="post" onsubmit="return validateForm()" novalidate>
        <input type="text" name="name" placeholder="Enter your name" required>
        <div id="nameError" class="error"></div>
        <input type="number" name="mobile" placeholder="Enter your mobile number" required>
        <div id="mobileError" class="error"></div>
        <input type="email" name="email" placeholder="Enter your email" required>
        <div id="emailError"  class="error"></div>
        <input type="password" name="password" placeholder="Enter your password" required>
        <div id="passwordError" class="error"></div>
        <button type="submit">Register</button>
    </form>

    <% if(typeof message !=='undefined'){ %>
        <p><%= message %><a href="/login">login</a></p>
    <% } %>
</div>




<script>
function validateForm(){
    const name=document.querySelector('input[name="name"]').value.trim();
    const mobile=document.querySelector('input[name="mobile"]').value.trim();
    const email=document.querySelector('input[name="email"]').value.trim();
    const password=document.querySelector('input[name="password"]').value.trim();


    const nameError=document.getElementById('nameError');
    const mobileError=document.getElementById('mobileError');
    const emailError=document.getElementById('emailError');
    const passwordError=document.getElementById('passwordError');

    nameError.textContent='';
    mobileError.textContent='';
    emailError.textContent='';
    passwordError.textContent='';

    let isValid = true;

    if(name===''){
        nameError.textContent='name is filed is required';
        isValid=false;
    }
    if(mobile===''){
        mobileError.textContent='number is required';
        isValid=false;
    }else {
    const mobileRegex = /^\d{10,}$/; // Regular expression for minimum 10 digits and only numbers
    if (!mobileRegex.test(mobile)) {
        mobileError.textContent = 'Enter a valid 10-digit mobile number';
        isValid = false;
    }
}

    if(password===''){
        passwordError.textContent='password field is required';
        isValid=false;
    }

    if(email ===''){
        emailError.textContent='Email filed is required';
        isValid = false;

    }else{
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if(!emailRegex.test(email)){
            emailError.textContent = 'Enter a valid email';
            isValid = false;
        }
    }
    return isValid






}
document.getElementById('loginform').addEventListener('submit',function(event){
    if(!validateForm()){
        event.preventDefault();
    }
})




</script>







<style>
    body {
        font-family: Arial, sans-serif;
       /* background-color: #883877; /* Change to your desired solid color */
       background-image: linear-gradient(to right top, #d16ba5, #c777b9, #ba83ca, #aa8fd8, #9a9ae1, #8aa7ec, #79b3f4, #69bff8, #52cffe, #41dfff, #46eefa, #5ffbf1);
  color: rgb(225,225,255);
        margin: 0;
        padding: 0;
    }

    .error {
  color: red;
  font-size: 15px;
}

    .container {
        max-width: 400px;
        margin: 50px auto;
        padding: 20px;
        background-color: #8aa7ec;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    h1 {
        color: #333;
        margin-bottom: 20px;
        text-align: center;
    }

    p {
        color: rgb(0, 0, 0);
        text-align: center;
    }

    form {
        text-align: center;
    }

input[type="text"],
input[type="email"],
input[type="number"], /* Corrected typo here */
input[type="password"],
button[type="submit"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-sizing: border-box;
}


    button[type="submit"] {
        background-color: #007bff;
        color: #fff;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button[type="submit"]:hover {
        background-color: #0056b3;
    }
</style>



<% include('../layouts/footer.ejs') %>
